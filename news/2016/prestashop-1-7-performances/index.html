<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>PrestaShop 1.7 &amp; performances</title>
    <link href="/style.css?1717686161" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
<meta property="og:title" content="PrestaShop 1.7 &amp; performances" />
<meta property="og:description" content="With PrestaShop 1.7, our main purposes were to improve the user experience on the Product Creation page and the Modules page, and also to make it easier to create a front office theme." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://build.prestashop-project.org/news/2016/prestashop-1-7-performances/" />
    <meta property="article:section" content="news" />
    <meta property="article:published_time" content="2016-10-28T11:00:00+02:00" />
    <meta property="article:modified_time" content="2016-10-28T11:00:00+02:00" />

  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image" content="https://build.prestashop-project.org/assets/images/theme/meta-logo-build-2024.png">
<meta name="twitter:title" content="PrestaShop 1.7 &amp; performances"/>
<meta name="twitter:description" content="Hey! Not so fast!"/>
<meta name="twitter:site" content="@PrestaShopOrg"/>

		<script async src="https://www.googletagmanager.com/gtag/js?id=G-QVW3BYSGJJ"></script>
		<script>
			var doNotTrack = false;
			if (!doNotTrack) {
				window.dataLayer = window.dataLayer || [];
				function gtag(){dataLayer.push(arguments);}
				gtag('js', new Date());
				gtag('config', 'G-QVW3BYSGJJ', { 'anonymize_ip': false });
			}
		</script>
	
    
</head>


  <body>

  <header class="site-header">

  <div class="container">
    <div class="row clearfix">

      <div class="menu-button"><i class="icon icon-store"></i></div>
      <div class="search-button"><i class="icon icon-magnifying-glass"></i></div>

      <div id="logo" class="">
        
        <a href="https://build.prestashop-project.org">
          <img src="/assets/images/theme/2024-logo.svg" alt="PrestaShop Developers&#39; blog Logo">
        </a>
      </div>

      <div id="navigation" class="">
        <nav>
  <ul id="main-navigation" class="nav navbar-nav navbar-collapse">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        News <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/releases/">Latest releases</a></li>
        <li><a href="/tag/core-monthly/">Core Monthly</a></li>
        <li><a href="/tag/event/">Events &amp; Live Updates</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Project <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/8.1/">Articles on 8.1</a></li>
        <li><a href="/tag/8.0/">Articles on 8.0</a></li>
        <li><a href="/tag/1.7/">Articles on 1.7</a></li>
        <li><a href="/tag/1.6/">Articles on 1.6</a></li>
        <li><a href="https://nightly.prestashop-project.org">Nightly Builds</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Contribute <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/misc/contribute-to-prestashop/">Contributor's guide</a></li>
        <li><a href="http://contributors.prestashop-project.org/">Contributor's page</a></li>
        <li><a href="http://translators.prestashop.com/">Translators' page</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Learn <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/">How-tos</a></li>
        <li><a href="/tools/">Tools</a></li>
        <li><a href="https://devdocs.prestashop-project.org/">Devdocs</a></li>
        <li><a href="/news/how-to-best-contact-us/">How to best contact us</a></li>
      </ul>
    </li>
    <li class="">
      <a href="/about/">About</a>
    </li>
  </ul>
</nav>

      </div>

      <div id="algolia-container">
        <div class="aa-input-container" id="aa-input-container">
          <input type="search" id="aa-search-input" class="aa-input-search form-control" placeholder="Search..." name="search" autocomplete="off" />
        </div>
      </div>

    </div>
  </div>

</header>


    <div class="page-content">
      <div class="container">
        
  <div class="post">

      <div class="row">
        <div class="col-sm-12">

          <header class="post-header">
            <h1 class="post-title">PrestaShop 1.7 &amp; performances</h1>
              
                <h3 class="post-subtitle">Hey! Not so fast!</h3>
              
          </header>

        </div>
      </div>


      <div class="row">
        <div id="post-sidebar" class="col-md-2">

          <aside class="author">
              <div class="author-avatar clearfix">
  
  
      <a href="https://build.prestashop-project.org/authors/maximebiloe/">
        <img class="img-circle" src="https://avatars3.githubusercontent.com/u/2203436" alt="Maxime Bilo√©'s picture">
      </a>
  
</div>

<div class="aside-meta">Written by</div>
<div class="author-name">
  
    <div class="author-item">
      <div class="author-display-name">
        <a href="https://build.prestashop-project.org/authors/maximebiloe/">Maxime Bilo√©</a>
      </div>
        
          <div class="author-display-role">Core Developer</div>
        
    </div>
  
</div>

          </aside>

          <aside class="post-meta-sidebar">
              <div class="aside-meta">Published</div>
<p class="publish-date">
    Oct 28, 2016
</p>

          </aside>

          <aside class="share-buttons">
              <div class="aside-meta">Share this</div>

<a href="https://twitter.com/intent/tweet?text=PrestaShop&#43;1.7&#43;%26&#43;performances&amp;url=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2016%2Fprestashop-1-7-performances%2F&amp;via=PrestaShopOrg&amp;related=PrestaShopOrg" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="icon-twitter-alt"></i>
</a>

<a href="https://facebook.com/sharer.php?u=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2016%2Fprestashop-1-7-performances%2F" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="icon-facebook-alt"></i>
</a>

          </aside>

        </div>

        <div class="col-md-10">

          <article class="post-content">

              <p>With PrestaShop 1.7, our main purposes were to improve the user experience on the Product Creation page and the Modules page, and also to make it easier to create a front office theme.</p>
<p>As you may know, version 1.7 now includes the Symfony2 framework. If you were afraid that it may slow PrestaShop down, be sure we wanted to avoid that and even do better than PrestaShop 1.6.1.x in terms of Performances! In order to prove that, here are a few statistics.</p>
<p>To make the comparison, we took PrestaShop 1.6.1.7 and PrestaShop 1.7 from GitHub, with data from a real shop:</p>
<ul>
<li>1,827 categories</li>
<li>10,843 cart rules</li>
<li>1,904 products</li>
<li>2 million product attributes</li>
<li>16.5 million attribute</li>
</ul>
<p>The server configuration used is the same as in <a href="http://build.prestashop.com/news/prestashop-1-6-1-0-performances/#the-configuration">our v1.6.1.0 performances article from July 2015</a>.</p>
<h2 id="front-office">Front office</h2>
<p>Why is it interesting to compare the front office performances? Because we made a lot of changes there!</p>
<p>We have completely rewritten the .tpl files as well as many of the front controllers. We also changed the way assets are managed. For instance, there is now only one CSS file and only one JS file by default for the theme, in order to reduce the number of HTTP requests. Modules can always load their own CSS files, and it&rsquo;s up to theme developers to compile the assets (using Webpack, for instance).</p>
<p>Let&rsquo;s look at some figures comparing PrestaShop 1.6.1.7 and PrestaShop 1.7.0.0 RC3:</p>
<table>
  <tr>
    <td style="border:0;">&nbsp;</td>
    <td style="text-align:center;font-weight:bold;">1.6.1.7<br />(default-bootstrap)</td>
    <td style="text-align:center;font-weight:bold;">1.7.0.0 RC3<br />(classic)</td>
    <td style="text-align:center;font-weight:bold;">Results</td>
  </tr>
  <tr>
    <td colspan="4" style="text-align:center;font-weight:bold;">Number of lines</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">php</td>
    <td style="text-align:center;">8437</td>
    <td style="text-align:center;">5795</td>
    <td style="text-align:center;color:#78D07D;">-31%</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">tpl</td>
    <td style="text-align:center;">10902</td>
    <td style="text-align:center;">4799</td>
    <td style="text-align:center;color:#78D07D;">-56%</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">js</td>
    <td style="text-align:center;">7452</td>
    <td style="text-align:center;">18181</td>
    <td style="text-align:center;color:#C45C67;">+143%</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">css</td>
    <td style="text-align:center;">14449</td>
    <td style="text-align:center;">8196</td>
    <td style="text-align:center;color:#78D07D;">-43%</td>
  </tr>
  <tr>
    <td colspan="4" style="text-align:center;font-weight:bold;">Number of files</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">tpl</td>
    <td style="text-align:center;">69</td>
    <td style="text-align:center;">115</td>
    <td style="text-align:center;color:#78D07D;">+88%</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">js</td>
    <td style="text-align:center;">24</td>
    <td style="text-align:center;">1</td>
    <td style="text-align:center;color:#78D07D;">-96%</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">css</td>
    <td style="text-align:center;">23</td>
    <td style="text-align:center;">1</td>
    <td style="text-align:center;color:#78D07D;">-95%</td>
  </tr>
  <tr>
    <td colspan="4" style="text-align:center;font-weight:bold;">Size of files (kb)</td>
  </tr>
  <tr>
    <td style="font-weight:bold;">js</td>
    <td style="text-align:center;">314</td>
    <td style="text-align:center;">698</td>
    <td style="text-align:center;color:#C45C67;">+122%</td>
  </tr>
  <tr style="font-weight:bold;">
    <td>css</td>
    <td style="text-align:center;">385</td>
    <td style="text-align:center;">224</td>
    <td style="text-align:center;color:#78D07D;">-42%</td>
  </tr>
</table>
<p>While showing the number or size of PHP files is not a very useful in terms of performances, the decrease in number of PHP files shows that team has worked hard in simplifying controllers and removing old code.</p>
<p>Likewise, the size of TPL files does not speak much in terms of performances since they will be compiled, but the increase of their number shows they are better subdivised.</p>
<p>By removing and rewriting a lot of code lines, we have succeeded in getting the following results to load these front office pages:</p>
<h3 id="homepage">Homepage</h3>
<p>We can see here an increase of server memory consumption (+33%) and loading time (+48%, but it&rsquo;s just 40 milliseconds üòâ).</p>
<table>
<thead>
<tr>
<th>1.6.1.7</th>
<th>1.7.0.0 RC3</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/assets/images/2016/10/perfs-home-1.6-full.png"><img src="/assets/images/2016/10/perfs-home-1.6.png" alt="Perfs home - 1.6 "></a></td>
<td><a href="/assets/images/2016/10/perfs-home-1.7-full.png"><img src="/assets/images/2016/10/perfs-home-1.7.png" alt="Perfs home - 1.7"></a></td>
</tr>
</tbody>
</table>
<p>It&rsquo;s not necessarily a bad thing because we know where it comes from and it&rsquo;s for the best: we now send the same product on every page type, with the same data (product listing, product page, cart, etc.). Thus, we now have a consistency of product data available across all pages, and we can now focus on optimizing that part.</p>
<p>Also, we now load all the CSS files for the entire website. The homepage is the first one we see, which explains why the loading time is higher here. It will be faster afterwards, since the necessary JS and CSS files are from now on in the browser cache.</p>
<h3 id="category-page">Category page</h3>
<table>
<thead>
<tr>
<th>1.6.1.7</th>
<th>1.7.0.0 RC3</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/assets/images/2016/10/perfs-category-1.6-full.png"><img src="/assets/images/2016/10/perfs-category-1.6.png" alt="Perfs category - 1.6"></a></td>
<td><a href="/assets/images/2016/10/perfs-category-1.7-full.png"><img src="/assets/images/2016/10/perfs-category-1.7.png" alt="Perfs category - 1.7"></a></td>
</tr>
</tbody>
</table>
<p>Here the results are almost even, except for a slight increase of server memory consumption (+9%). The reason for this is the same as on the homepage: we now load all the products&rsquo; data.</p>
<h3 id="product-page">Product page</h3>
<table>
<thead>
<tr>
<th>1.6.1.7</th>
<th>1.7.0.0 RC3</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/assets/images/2016/10/perfs-product-1.6-full.png"><img src="/assets/images/2016/10/perfs-product-1.6.png" alt="Perfs product - 1.6"></a></td>
<td><a href="/assets/images/2016/10/perfs-product-1.7-full.png"><img src="/assets/images/2016/10/perfs-product-1.7.png" alt="Perfs product - 1.7"></a></td>
</tr>
</tbody>
</table>
<p>It&rsquo;s the most important part, the one you want to be indexed by the search engines. We are 17% faster, which <a href="https://moz.com/learn/seo/page-speed">may improve your SEO ranking</a>.</p>
<p>Globally, the number of rendered pages in 20 seconds with a variable number of connections have been increased.</p>
<p><img src="/assets/images/2016/10/perfs-1.6vs1.7.png" alt="Perfs 1.6 Vs 1.7"></p>
<h2 id="product-page-in-back-office">Product page in back office</h2>
<p>The front office was not our only focus. We wanted to put a definitive end to the ‚Äúspinning save button‚Äù issue on the Product Creating page, which was caused by the loading of all the product&rsquo;s combinations.</p>
<p>To prevent that, we chose to load the combinations 5 by 5 in Ajax. You can still edit the loaded combinations even if they are not all loaded the bulk action is simply disabled while the rest of the combinations are loading.</p>
<h2 id="modules-page">Modules page</h2>
<p>Because we completely reworked the Modules page, we can&rsquo;t easily compare with the 1.6 version of this page.</p>
<p>Nevertheless, we improved the behavior when the user is trying to install a module causing a fatal error: simply put, it shouldn&rsquo;t break your shop anymore! PrestaShop now analyzes the code to detect parsing errors, and if an error occurs during the installation, the module will be kept on your disk but it won&rsquo;t be installed.</p>
<h2 id="what-to-make-of-this">What to make of this</h2>
<p>One of our objectives with 1.7 and its technical changes (the inclusion of the Symfony, the new way Themes work, etc.) was to give users AT LEAST the same performances on the three upgraded areas: the front office, the Product Creation page, and the Modules page.</p>
<p>As the above graphics show you, we mostly succeeded in having not only equal, but sometimes BETTER performances overall! There are situations where the percentage are slightly not in our favor, but they can be explained by features in favor of developers, and therefore, in the end, in favor of merchants and users.</p>
<p>We&rsquo;re not done improving the performances of PrestaShop 1.7.0.0, and we&rsquo;ll keep looking at bottlenecks in order to fix them!</p>


          </article>

            


              <div class="post-meta">
    <div class="row">

      <div class="col-md-4">
        <ul class="details">
          <li class="hidden-md hidden-lg">Oct 28, 2016</li>

          
            <li>
              <i class="icon-tag"></i>
              
  <a class="label label-primary" href="/tag/1.7/">1.7</a>


            </li>
          

        </ul>
      </div>

      
          <div class="col-md-8">
  <div class="author-details">

    <div class="row">
      <div class="col-md-11 col-md-offset-1">

          
              

                <h5>About the author</h5>

                
    <h4>
      <a href="https://build.prestashop-project.org/authors/maximebiloe/">Maxime Bilo√©</a>
      <span>Core Developer</span>
    </h4>

    





              
          

      </div>

    </div>
  </div>
</div>

      

    </div>
  </div>


        </div>
      </div>

      <div class="row">
  <div class="col-md-12">
    <div id="disqus_thread"></div><div id="disqus_thread"></div>
        <script type="application/javascript">
          window.disqus_config = function () {
              
              
              this.page.url = 'https:\/\/build.prestashop-project.org\/news\/prestashop-1-7-performances';
          };
          (function() {
            if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
              document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
              return;
            }
            var d = document, s = d.createElement('script'); s.async = true;
            s.src = '//' + "prestashopbuild" + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
</div>

    </div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="container">

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>Official PrestaShop project blog written by
          <a href="/authors">its members and contributors</a>.
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>
          <a href="https://www.prestashop-project.org" target="_self" title="Create your online store with PrestaShop">
            <img id="logo-dotcom" src="/assets/images/theme/logo-prestashop-com.png" alt="Create your online store">
          </a>
        </p>
      </div>
    </div>

    <div class="row">
      <div id="social-icons" class="col-sm-12 col-md-6 col-md-offset-3">

        

        <a href="https://www.youtube.com/@prestashopproject/" title="YouTube channel">
          <i class="icon-youtube-alt"></i>
        </a>

        
        <a href="https://github.com/PrestaShop" title="GitHub repository">
          <i class="icon-github-alt"></i>
        </a>
        

        
        <a href="https://twitter.com/PrestaShopOrg" title="Twitter account">
          <i class="icon-twitter-alt"></i>
        </a>
        

        

        <a href="/feed.xml" title="RSS feed for this blog">
          <i class="icon-rss"></i>
        </a>

      </div>
    </div>

  </div>
</footer>




<script type="text/javascript" src="/js/vendors/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/js/vendors/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/vendors/md5.js"></script>

<script type="text/javascript" src="/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script type="text/javascript">

    var client = algoliasearch("17LZR6CZEL", "79e7d4e77871f415092b78b82a66eaf0");
    var index = client.initIndex('blog');

    
    autocomplete('#aa-search-input',
      { hint: false, debug: false, autoselect: false, minLength: 4 }, {
        source: autocomplete.sources.hits(index, {hitsPerPage: 6}),
        
        displayKey: 'name',
        
        templates: {
          
          suggestion: function(hit) {
            var str =
              '<a href="' + hit.url + '">' +
              '<span class="hit-title"> ' + hit._highlightResult.title.value + '</span>' +
              '</a>'
            ;

            return str;
          },
          
          empty: function() {
            return '<div class="empty-result">Sorry we couldn\'t find anything.</div>';
          },
          footer: function() {
            return '<p class="algolia-credits">Powered by <img src="/assets/images/theme/algolia.jpg"></p>';
          }
        }
      });
  </script>




  </body>

</html>

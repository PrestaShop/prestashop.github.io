<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>The PrestaShop Test Framework</title>
    <link href="/style.css?1745490233" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
<meta property="og:title" content="The PrestaShop Test Framework" />
<meta property="og:description" content="Last time we announced a new suite of functional tests to ensure our software quality, today we are proud to present you our new feature, the PrestaShop Test Framework!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://build.prestashop-project.org/news/2018/prestashop-test-framework/" />
    <meta property="article:section" content="news" />
    <meta property="article:published_time" content="2018-02-16T09:10:11+01:00" />
    <meta property="article:modified_time" content="2018-02-16T09:10:11+01:00" />

  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image" content="https://build.prestashop-project.org/assets/images/theme/meta-logo-build-2024.png">
<meta name="twitter:title" content="The PrestaShop Test Framework"/>
<meta name="twitter:description" content="Why this will make development easier"/>
<meta name="twitter:site" content="@PrestaShopOrg"/>

		<script async src="https://www.googletagmanager.com/gtag/js?id=G-QVW3BYSGJJ"></script>
		<script>
		  var doNotTrack = false;
		  if (!doNotTrack) {
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('consent', 'default', {
			  ad_storage: 'denied',
			  analytics_storage: 'denied',
			  wait_for_update:  500 ,
			  region: ['US-CA', 'BE', 'BG', 'CZ', 'DK', 'DE', 'EE', 'IE', 'GR', 'ES', 'FR', 'HR', 'IT', 'CY', 'LV', 'LT', 'LU', 'HU', 'MT', 'NL', 'AT', 'PL', 'PT', 'RO', 'SI', 'SK', 'FI', 'SE']
			});
			gtag('js', new Date());
			gtag('config', 'G-QVW3BYSGJJ', { 'anonymize_ip':  true  });
		  }
		</script>
	
    
</head>


  <body>

  <header class="site-header">

  <div class="container">
    <div class="row clearfix">

      <div class="menu-button"><i class="icon icon-store"></i></div>
      <div class="search-button"><i class="icon icon-magnifying-glass"></i></div>

      <div id="logo" class="">
        
        <a href="https://build.prestashop-project.org">
          <img src="/assets/images/theme/2024-logo.svg" alt="PrestaShop Developers&#39; blog Logo">
        </a>
      </div>

      <div id="navigation" class="">
        <nav>
  <ul id="main-navigation" class="nav navbar-nav navbar-collapse">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        News <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/releases/">Latest releases</a></li>
        <li><a href="/tag/core-monthly/">Core Monthly</a></li>
        <li><a href="/tag/event/">Events &amp; Live Updates</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Project <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/8.2/">Articles on 8.2</a></li>
        <li><a href="/tag/8.1/">Articles on 8.1</a></li>
        <li><a href="/tag/8.0/">Articles on 8.0</a></li>
        <li><a href="/tag/1.7/">Articles on 1.7</a></li>
        <li><a href="/tag/1.6/">Articles on 1.6</a></li>
        <li><a href="https://nightly.prestashop-project.org">Nightly Builds</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Contribute <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/misc/contribute-to-prestashop/">Contributor's guide</a></li>
        <li><a href="http://contributors.prestashop-project.org/">Contributor's page</a></li>
        <li><a href="http://translators.prestashop.com/">Translators' page</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Learn <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/">How-tos</a></li>
        <li><a href="/tools/">Tools</a></li>
        <li><a href="https://devdocs.prestashop-project.org/">Devdocs</a></li>
        <li><a href="/news/how-to-best-contact-us/">How to best contact us</a></li>
      </ul>
    </li>
    <li class="">
      <a href="/about/">About</a>
    </li>
  </ul>
</nav>

      </div>

      <div id="algolia-container">
        <div class="aa-input-container" id="aa-input-container">
          <input type="search" id="aa-search-input" class="aa-input-search form-control" placeholder="Search..." name="search" autocomplete="off" />
        </div>
      </div>

    </div>
  </div>

</header>


    <div class="page-content">
      <div class="container">
        
  <div class="post">

      <div class="row">
        <div class="col-sm-12">

          <header class="post-header">
            <h1 class="post-title">The PrestaShop Test Framework</h1>
              
                <h3 class="post-subtitle">Why this will make development easier</h3>
              
          </header>

        </div>
      </div>


      <div class="row">
        <div id="post-sidebar" class="col-md-2">

          <aside class="author">
              <div class="author-avatar clearfix">
  
  
      <a href="https://build.prestashop-project.org/authors/MehdiBadrani/">
        <img class="img-circle" src="https://avatars3.githubusercontent.com/u/29543279?s=400&amp;v=4" alt="Mehdi Badrani's picture">
      </a>
  
</div>

<div class="aside-meta">Written by</div>
<div class="author-name">
  
    <div class="author-item">
      <div class="author-display-name">
        <a href="https://build.prestashop-project.org/authors/MehdiBadrani/">Mehdi Badrani</a>
      </div>
        
          <div class="author-display-role">QA Manager</div>
        
    </div>
  
</div>

          </aside>

          <aside class="post-meta-sidebar">
              <div class="aside-meta">Published</div>
<p class="publish-date">
    Feb 16, 2018
</p>

          </aside>

          <aside class="share-buttons">
              <div class="aside-meta">Share this</div>

<a href="https://twitter.com/intent/tweet?text=The&#43;PrestaShop&#43;Test&#43;Framework&amp;url=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2018%2Fprestashop-test-framework%2F&amp;via=PrestaShopOrg&amp;related=PrestaShopOrg" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="icon-twitter-alt"></i>
</a>

<a href="https://facebook.com/sharer.php?u=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2018%2Fprestashop-test-framework%2F" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="icon-facebook-alt"></i>
</a>

          </aside>

        </div>

        <div class="col-md-10">

          <article class="post-content">

              <p>Last time we announced a new suite of functional tests to ensure our software quality, today we are proud to present you our new feature, the PrestaShop Test Framework!</p>
<p>It is a cool toolkit like a Swiss knife which will help to save a lot of time by running at least 50 automated functional tests on your browser&hellip; and this is only the beginning! It makes easier to create basic acceptance testing when adding Addons, submitting pull requests or making some customizations on your Prestashop.</p>
<p><em>&ldquo;So many ways&hellip; the only limit is your imagination&rdquo;</em></p>
<p>This project is based on the famous feature-rich JavaScript test framework <a href="https://mochajs.org">Mocha</a> running on <a href="https://nodejs.org/en">Node.js</a> and making asynchronous testing. This new feature has been initially used by (and recently included in) Prestashop in order to improve the quality of regular implementations. And after some interesting modifications, we are proud to present the details below!</p>
<h2 id="introduction-to-prestashop-testing-framework">Introduction to PrestaShop Testing Framework</h2>
<p>You’ve just written a feature and (hopefully) want to test it. Or you&rsquo;ve decided that an existing feature doesn&rsquo;t have enough tests and want to contribute some. But where and how do you start? Let’s make PrestaShop testing easier and resilient together!</p>
<h3 id="architecture">Architecture</h3>
<p>Let&rsquo;s see how do the technologies work together for local setup, with the local Selenium setup - note that all softwares run on your local computer :</p>
<ul>
<li><strong>Node</strong> runs <strong>Mocha</strong> framework and all test scripts</li>
<li><strong>Should</strong> is the assertion library &amp; <strong>Chaï</strong> is the BDD assertion library</li>
<li><strong>WebdriverIO</strong> communicates with Selenium Server using JSON Wire Protocol</li>
<li><strong>Selenium Server</strong> invokes local browser using a driver to test our shop</li>
</ul>
<p><img src="/assets/images/2018/01/PS_Test_Framework.png" alt="PS Test Framework"></p>
<h3 id="configuration">Configuration</h3>
<p>To run these tests you have to install <a href="https://nodejs.org/en/download">Node.js</a>, <a href="https://www.npmjs.com/get-npm">Npm</a>, <a href="https://java.com/fr/download">Java</a> and <a href="https://www.google.com/chrome/browser/desktop/index.html?brand=CHBD&amp;gclid=EAIaIQobChMIva2UgZTN2AIVjjgbCh2kcA9MEAAYASAAEgKC8fD_BwE">Google Chrome</a>.</p>
<p>To use the following test suites, you need to install PrestaShop in <strong>English</strong> with setting country to France (or you may change some assertions like the separator “,” or “.”, “€” or “$” or “£” or …). You need to create a user in Back Office with <strong>SuperAdmin</strong> rights and the following information:</p>
<p><strong>Login:</strong> <a href="mailto:demo@prestashop.com">demo@prestashop.com</a><br>
<strong>Password:</strong> prestashop_demo</p>
<p>Look at &lt;prestashop_root_dir&gt;/tests/E2E/ directory, this is where the test automation project is located!</p>
<h3 id="installation">Installation</h3>
<p>To install this awesome framework, you just have to this simple command on the root directory of the functional tests:</p>
<p>➜  <code>cd tests/E2E</code><br>
➜  <code>npm install</code></p>
<p>Launch Selenium-standalone with this command:</p>
<p>➜  <code>npm run start-selenium</code></p>
<p><img src="/assets/images/2018/02/PS_Test_Framework_Selenium.png" alt="PS Test Framework Selenium"></p>
<p>➜  <code>npm run high-test -- --URL=FrontOfficeURL --DIR=DownloadDirectory</code></p>
<p><strong>URL</strong>: Front office URL of your Prestashop website (without the “http://”)<br>
<strong>DIR</strong>: Your download directory (exp: /home/toto/Downloads/) so we can check the downloaded invoice</p>
<p>If you want to run test only on specific parts (for example products), you have to run this command:</p>
<p>➜  <code>path=high/02_product npm run specific-test -- --URL=FrontOfficeURL</code></p>
<p><img src="/assets/images/2018/02/PS_Test_Framework_Examples.png" alt="PS Test Framework Examples"></p>
<h2 id="create-a-test">Create a test</h2>
<p>This basic suite of tests cover the CRUD functionality for the simple entities (CRUD is an abbreviation for “create”, “read”, “update” and “delete” actions).</p>
<p><strong>All the power of tests in the JS</strong></p>
<p>Create a script_scenario.js located in \tests\E2E\test\campaigns\high\custom_directory\ - in a new directory, or choose a category if you want to complete some tests in <a href="http://chaijs.com/api/bdd/">BDD</a> style (Behavior Driven Development). But before continuing, let&rsquo;s see an example of how it appears in the code:</p>
<p><em>scenario(&lsquo;Create Standard Product in the Back Office&rsquo;, client =&gt; {</em><br>
<em>test(&lsquo;should open browser&rsquo;, () =&gt; client.open());</em><br>
<em>test(&lsquo;should log in successfully in BO&rsquo;, () =&gt; client.signInBO(AccessPageBO));</em><br>
<em>test(&lsquo;should go to &ldquo;Catalog&rdquo;&rsquo;, () =&gt; client.waitForExistAndClick(AddProductPage.products_subtab));</em><br>
<em>test(&lsquo;should click on &ldquo;NEW PRODUCT&rdquo;&rsquo;, () =&gt; client.waitForExistAndClick(AddProductPage.new_product_button));</em><br>
<em>});</em></p>
<p>As you can see, every line calls to action scripted in client file located in \tests\E2E\test\clients.</p>
<h2 id="conclusion">Conclusion</h2>
<p>These technologies worked much better than we expected, however there was learning curve involved. Once understood how all the components worked together, everybody is able to write complicated test scripts in a very short time.</p>
<p>For our part, using these technologies has definitely motivated us to sharpen our JavaScript skills so we hope you&rsquo;ll find this article useful and motivating to contribute all together and to build a more reliable solution.</p>
<p>Please let us know if you have any questions or comments on this test automation framework.</p>
<p>From QA with love!</p>


          </article>

            


              <div class="post-meta">
    <div class="row">

      <div class="col-md-4">
        <ul class="details">
          <li class="hidden-md hidden-lg">Feb 16, 2018</li>

          
            <li>
              <i class="icon-tag"></i>
              
  <a class="label label-primary" href="/tag/1.7/">1.7</a>

  <a class="label label-primary" href="/tag/development/">development</a>


            </li>
          

        </ul>
      </div>

      
          <div class="col-md-8">
  <div class="author-details">

    <div class="row">
      <div class="col-md-11 col-md-offset-1">

          
              

                <h5>About the author</h5>

                
    <h4>
      <a href="https://build.prestashop-project.org/authors/MehdiBadrani/">Mehdi Badrani</a>
      <span>QA Manager</span>
    </h4>

    





              
          

      </div>

    </div>
  </div>
</div>


<div class="newsletter-section">
  <div class="newsletter-text">
    <p>Want to stay up-to-date with the PrestaShop project and the technical development of PrestaShop?</p>
  </div>

  <div class="subscribe-btn-container">
    <a id="subscribe-button" class="btn btn-lg btn-success">Subscribe to our newsletter</a>
  </div>

  <div id="subscription-form" class="subscription-form">
    <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
    <script>
      hbspt.forms.create({
        region: "na1",
        portalId: "4323170",
        formId: "94e069e0-99ec-4c38-964a-82a27750044e"
      });
    </script>
  </div>
</div>

<script>
  document.getElementById('subscribe-button').addEventListener('click', function () {
    var formDiv = document.getElementById('subscription-form');
    formDiv.style.display = (formDiv.style.display === 'none' || formDiv.style.display === '') ? 'block' : 'none';
  });
</script>

<style>
  .newsletter-section {
    border-top: 1px solid #e8e8e8;
    padding: 20px;
    margin: 0 auto;
    text-align: center;
    display: flex; flex-direction: column;
  }

  .newsletter-text {
    margin: auto;
    max-width: 80%;
    align-content: center;
  }

  .newsletter-text p {
    font-size: 16px;
    line-height: 1.5;
    color: #595959;
  }

  .subscribe-btn-container {
    margin-bottom: 20px;
  }

  #subscription-form {
    display: none;
    margin-top: 20px;
    text-align: left;
  }
</style>
      

    </div>
  </div>


        </div>
      </div>

      <div class="row">
  <div class="col-md-12">
    <div id="disqus_thread"></div><div id="disqus_thread"></div>
        <script type="application/javascript">
          window.disqus_config = function () {
              
              
              this.page.url = 'https:\/\/build.prestashop-project.org\/news\/prestashop-test-framework';
          };
          (function() {
            if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
              document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
              return;
            }
            var d = document, s = d.createElement('script'); s.async = true;
            s.src = '//' + "prestashopbuild" + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
</div>

    </div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="container">

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>Official PrestaShop project blog written by
          <a href="/authors">its members and contributors</a>.
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>
          <a href="https://www.prestashop-project.org" target="_self" title="Create your online store with PrestaShop">
            <img id="logo-dotcom" src="/assets/images/theme/2024-logo.svg" alt="Create your online store">
          </a>
        </p>
      </div>
    </div>

    <div class="row">
      <div id="social-icons" class="col-sm-12 col-md-6 col-md-offset-3">

        

        <a href="https://www.youtube.com/@prestashopproject/" title="YouTube channel">
          <i class="icon-youtube-alt"></i>
        </a>

        
        <a href="https://github.com/PrestaShop" title="GitHub repository">
          <i class="icon-github-alt"></i>
        </a>
        

        
        <a href="https://twitter.com/PrestaShopOrg" title="Twitter account">
          <i class="icon-twitter-alt"></i>
        </a>
        

        

        <a href="/feed.xml" title="RSS feed for this blog">
          <i class="icon-rss"></i>
        </a>

      </div>
    </div>

  </div>
</footer>




<script type="text/javascript" src="/js/vendors/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/js/vendors/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/vendors/md5.js"></script>

<script type="text/javascript" src="/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script type="text/javascript">

    var client = algoliasearch("17LZR6CZEL", "79e7d4e77871f415092b78b82a66eaf0");
    var index = client.initIndex('blog');

    
    autocomplete('#aa-search-input',
      { hint: false, debug: false, autoselect: false, minLength: 4 }, {
        source: autocomplete.sources.hits(index, {hitsPerPage: 6}),
        
        displayKey: 'name',
        
        templates: {
          
          suggestion: function(hit) {
            var str =
              '<a href="' + hit.url + '">' +
              '<span class="hit-title"> ' + hit._highlightResult.title.value + '</span>' +
              '</a>'
            ;

            return str;
          },
          
          empty: function() {
            return '<div class="empty-result">Sorry we couldn\'t find anything.</div>';
          },
          footer: function() {
            return '<p class="algolia-credits">Powered by <img src="/assets/images/theme/algolia.jpg"></p>';
          }
        }
      });
  </script>




  </body>

</html>

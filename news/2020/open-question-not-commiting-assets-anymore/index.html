<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>Open Question: What about not committing generated files anymore?</title>
    <link href="/style.css?1686649570" rel="stylesheet">

    <link rel="shortcut icon" type="image/png" href="/favicon.png" />

    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
<meta property="og:title" content="Open Question: What about not committing generated files anymore?" />
<meta property="og:description" content="This post is the first of a new kind. We decided to open up more with you about technical questioning and decisions for the PrestaShop project. This one is about generated asset files." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://build.prestashop-project.org/news/2020/open-question-not-commiting-assets-anymore/" />
    <meta property="article:section" content="news" />
    <meta property="article:published_time" content="2020-01-17T08:00:00+01:00" />
    <meta property="article:modified_time" content="2020-01-17T08:00:00+01:00" />

  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:image" content="https://build.prestashop-project.org/assets/images/theme/meta-logo-build.png">
<meta name="twitter:title" content="Open Question: What about not committing generated files anymore?"/>
<meta name="twitter:description" content="Let’s talk assets, we want your opinion!"/>
<meta name="twitter:site" content="@PrestaShopOrg"/>

		<script async src="https://www.googletagmanager.com/gtag/js?id=G-QVW3BYSGJJ"></script>
		<script>
			var doNotTrack = false;
			if (!doNotTrack) {
				window.dataLayer = window.dataLayer || [];
				function gtag(){dataLayer.push(arguments);}
				gtag('js', new Date());
				gtag('config', 'G-QVW3BYSGJJ', { 'anonymize_ip': false });
			}
		</script>
	
    
</head>


  <body>

  <header class="site-header">

  <div class="container">
    <div class="row clearfix">

      <div class="menu-button"><i class="icon icon-store"></i></div>
      <div class="search-button"><i class="icon icon-magnifying-glass"></i></div>

      <div id="logo" class="">
        
        <a href="https://build.prestashop-project.org">
          <img src="/assets/images/theme/new-logo.png" alt="PrestaShop Developers&#39; blog Logo">
        </a>
      </div>

      <div id="navigation" class="">
        <nav>
  <ul id="main-navigation" class="nav navbar-nav navbar-collapse">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        News <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/releases/">Latest releases</a></li>
        <li><a href="/tag/core-monthly/">Core Monthly</a></li>
        <li><a href="/tag/event/">Events &amp; Live Updates</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Project <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/tag/8.1/">Articles on 8.1</a></li>
        <li><a href="/tag/8.0/">Articles on 8.0</a></li>
        <li><a href="/tag/1.7/">Articles on 1.7</a></li>
        <li><a href="/tag/1.6/">Articles on 1.6</a></li>
        <li><a href="https://nightly.prestashop-project.org">Nightly Builds</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Contribute <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/misc/contribute-to-prestashop/">Contributor's guide</a></li>
        <li><a href="http://contributors.prestashop-project.org/">Contributor's page</a></li>
        <li><a href="http://translators.prestashop.com/">Translators' page</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
        Learn <span class="caret"></span>
      </a>
      <ul class="dropdown-menu">
        <li><a href="/howtos/">How-tos</a></li>
        <li><a href="/tools/">Tools</a></li>
        <li><a href="https://devdocs.prestashop-project.org/">Devdocs</a></li>
        <li><a href="/news/how-to-best-contact-us/">How to best contact us</a></li>
      </ul>
    </li>
    <li class="">
      <a href="/about/">About</a>
    </li>
  </ul>
</nav>

      </div>

      <div id="algolia-container">
        <div class="aa-input-container" id="aa-input-container">
          <input type="search" id="aa-search-input" class="aa-input-search form-control" placeholder="Search..." name="search" autocomplete="off" />
        </div>
      </div>

    </div>
  </div>

</header>


    <div class="page-content">
      <div class="container">
        
  <div class="post">

      <div class="row">
        <div class="col-sm-12">

          <header class="post-header">
            <h1 class="post-title">Open Question: What about not committing generated files anymore?</h1>
              
                <h3 class="post-subtitle">Let’s talk assets, we want your opinion!</h3>
              
          </header>

        </div>
      </div>


      <div class="row">
        <div id="post-sidebar" class="col-md-2">

          <aside class="author">
              <div class="author-avatar clearfix">
  
  
      

      <img class="img-circle" src="https://avatars2.githubusercontent.com/u/1462701?s=400&amp;v=4"
         alt="Pierre Rambaud's photo">
  
      

      <img class="img-circle" src="/assets/images/authors/prestashop-team.png"
         alt="PrestaShop team's photo">
  
</div>

<div class="aside-meta">Written by</div>
<div class="author-name">
  
    <div class="author-item">
      <div class="author-display-name">Pierre Rambaud</div>
        
          <div class="author-display-role">Senior Core Developer</div>
        
    </div>
  
    <div class="author-item">
      <div class="author-display-name">PrestaShop team</div>
        
    </div>
  
</div>

          </aside>

          <aside class="post-meta-sidebar">
              <div class="aside-meta">Published</div>
<p class="publish-date">
    Jan 17, 2020
</p>

          </aside>

          <aside class="share-buttons">
              <div class="aside-meta">Share this</div>

<a href="https://twitter.com/intent/tweet?text=Open&#43;Question%3A&#43;What&#43;about&#43;not&#43;committing&#43;generated&#43;files&#43;anymore%3F&amp;url=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2020%2Fopen-question-not-commiting-assets-anymore%2F&amp;via=PrestaShopOrg&amp;related=PrestaShopOrg" rel="nofollow" target="_blank" title="Share on Twitter">
    <i class="icon-twitter-alt"></i>
</a>

<a href="https://facebook.com/sharer.php?u=https%3A%2F%2Fbuild.prestashop-project.org%2Fnews%2F2020%2Fopen-question-not-commiting-assets-anymore%2F" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="icon-facebook-alt"></i>
</a>

          </aside>

        </div>

        <div class="col-md-10">

          <article class="post-content">

              <p>This post is the first of a new kind.
We decided to open up more with you about technical questioning and decisions for the PrestaShop project.
This one is about generated asset files.</p>
<p><strong>[EDIT] February 7th 2020:</strong>
Considered the positive feedback we received after publishing the article, we decided to remove the generated files and to add the <code>make assets</code> command. Learn more in the <a href="https://devdocs.prestashop.com/1.7/development/compile-assets/">devdoc</a>.</p>
<p>Details of the feedback:
27 &ldquo;Upvote&rdquo; and 1 &ldquo;Sad&rdquo; reactions in Disqus.
1 positive comment, upvoted five times.</p>
<h2 id="generated-files">Generated files?</h2>
<p>In a library context, generated files would be what users will have in the final application.
Files in the script tags or css for example.</p>
<p>These files are the concatenated, compiled and minified versions of our library files.
These files are called “Generated files” or “assets”.</p>
<p>In the PrestaShop context, using a tool like Webpack to compile our files and make sure we distribute the fewest files as possible is mandatory. It makes the installation as fast as it could be.
<strong>We must use this kind of tools</strong> for the following reasons :</p>
<ul>
<li>Some browsers are not supporting ES6 yet</li>
<li>Our dependencies</li>
<li>The huge lines of code</li>
</ul>
<h2 id="problem">Problem</h2>
<p>There are two kinds of problems we have every time someone is working on these files.</p>
<h3 id="1-git-diff">1. Git diff:</h3>
<p><img src="/assets/images/2019/12/open-question-assets-git-diff.png" alt="What we see everytime in the git diff"></p>
<p>It is impossible to review, and it&rsquo;s dangerous, we can’t be sure no one adds malicious code.</p>
<h3 id="2-git-rebase">2. Git rebase:</h3>
<p><img src="/assets/images/2019/12/open-question-assets-git-rebase.png" alt="These nice conflicting files&amp;hellip;"></p>
<p>Every time someone merges a pull request with a compiled file, we must do a  “git rebase”.</p>
<p>The more contributors we have, the more rebase we will have to do.</p>
<h2 id="our-proposition">Our proposition</h2>
<p>Because GitHub is a tool to centralize our “sources” files and allow anybody to compile and install our dependencies, and finally run PrestaShop, we would remove generated files and add simple command lines to help our contributors.</p>
<p>Currently, we already have everything to compile our dependencies, it is even mandatory with Composer (for PHP). So the idea is to do the same thing for NodeJS now.</p>
<p>To make it easy for contributors, we would add a <code>make install</code> command, making everything works fine.</p>
<h2 id="benefits">Benefits</h2>
<p>Removing these files would:</p>
<ul>
<li>Reduce back and forths between the Core team and the QA team</li>
<li>Reduce our review time</li>
<li>And reduce our merge time</li>
</ul>
<h2 id="drawbacks">Drawbacks</h2>
<ul>
<li>Assets won&rsquo;t be present any more when you clone the repository</li>
<li>Node needs to be installed and available on your development machine</li>
</ul>
<h2 id="the-release-process">The release process</h2>
<p>This would not change the way release archives are built, the assets will be built during the release creation so it changes nothing for people who want an out of the box PrestaShop archive. But at least we will be 100% sure that the assets in the release are the most recent ones since they will be built along with PHP dependencies, and not fetched from an old PR.</p>
<p>Do you agree? Did we miss something? Do you have questions? Let’s talk about it in the comments!
Let us know what you think about it!</p>



<div class="alert alert-info"><h4><i class="icon-chat"></i>
        Let&#39;s talk
    </h4><p>The goal of this kind of article, &ldquo;Open question&rdquo;, is to discuss technical topics with you.<br>
So please, let us know what you think and feel free to ask questions in the comments below.</p>
<p>Oh, and we are also looking for a name for this kind of post, we went with “Open question”, but if you have other ideas feel free to share them!</p>

</div>



          </article>

            


            

  <div class="post-meta">
    <div class="row">

      <div class="col-md-4">
        <ul class="details">
          <li class="hidden-md hidden-lg">Jan 17, 2020</li>

          
            <li>
              <i class="icon-tag"></i>

              
  <a class="label label-primary" href="/tag/1.7/">1.7</a>

  <a class="label label-primary" href="/tag/development/">development</a>

  <a class="label label-primary" href="/tag/community/">community</a>



            </li>
          

        </ul>
      </div>

      
      <div class="col-md-8">
        <div class="author-details">

          <div class="row">
            <div class="col-md-11 col-md-offset-1">

              

                <h5>About the authors</h5>

                
                <div class="author-item">

                  
    <h4>
      Pierre Rambaud
      <span class="multiple">Senior Core Developer</span>
    </h4>

    
      <a class="btn btn-default btn-sm" href="https://github.com/PierreRambaud">
        <i class="icon-github-alt"></i> GitHub
      </a>
    
    
    
    
    
  


                </div>
                
                <div class="author-item">

                  
    <h4>
      PrestaShop team
      <span class="multiple"></span>
    </h4>

    
    
    
    
    
      <a class="btn btn-default btn-sm" href="https://prestashop-project.org">
        <i class="icon-home"></i> Website
      </a>
    
  


                </div>
                

              

            </div>

          </div>
        </div>
      </div>
      

    </div>
  </div>


        </div>
      </div>

      <div class="row">
  <div class="col-md-12">
    <div id="disqus_thread"></div><div id="disqus_thread"></div>
        <script type="application/javascript">
          window.disqus_config = function () {
              
              
              this.page.url = 'https:\/\/build.prestashop-project.org\/news\/open-question-not-commiting-assets-anymore';
          };
          (function() {
            if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
              document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
              return;
            }
            var d = document, s = d.createElement('script'); s.async = true;
            s.src = '//' + "prestashopbuild" + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
</div>

    </div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="container">

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>Official PrestaShop project blog written by
          <a href="/authors">its members and contributors</a>.
        </p>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-8 col-md-offset-2">
        <p>
          <a href="https://www.prestashop-project.org" target="_self" title="Create your online store with PrestaShop">
            <img id="logo-dotcom" src="/assets/images/theme/logo-prestashop-com.png" alt="Create your online store">
          </a>
        </p>
      </div>
    </div>

    <div class="row">
      <div id="social-icons" class="col-sm-12 col-md-6 col-md-offset-3">

        

        <a href="https://www.youtube.com/@prestashopproject/" title="YouTube channel">
          <i class="icon-youtube-alt"></i>
        </a>

        
        <a href="https://github.com/PrestaShop" title="GitHub repository">
          <i class="icon-github-alt"></i>
        </a>
        

        
        <a href="https://twitter.com/PrestaShopOrg" title="Twitter account">
          <i class="icon-twitter-alt"></i>
        </a>
        

        

        <a href="/feed.xml" title="RSS feed for this blog">
          <i class="icon-rss"></i>
        </a>

      </div>
    </div>

  </div>
</footer>




<script type="text/javascript" src="/js/vendors/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="/js/vendors/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/vendors/md5.js"></script>

<script type="text/javascript" src="/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script type="text/javascript">

    var client = algoliasearch("17LZR6CZEL", "79e7d4e77871f415092b78b82a66eaf0");
    var index = client.initIndex('blog');

    
    autocomplete('#aa-search-input',
      { hint: false, debug: false, autoselect: false, minLength: 4 }, {
        source: autocomplete.sources.hits(index, {hitsPerPage: 6}),
        
        displayKey: 'name',
        
        templates: {
          
          suggestion: function(hit) {
            var str =
              '<a href="' + hit.url + '">' +
              '<span class="hit-title"> ' + hit._highlightResult.title.value + '</span>' +
              '</a>'
            ;

            return str;
          },
          
          empty: function() {
            return '<div class="empty-result">Sorry we couldn\'t find anything.</div>';
          },
          footer: function() {
            return '<p class="algolia-credits">Powered by <img src="/assets/images/theme/algolia.jpg"></p>';
          }
        }
      });
  </script>




  </body>

</html>

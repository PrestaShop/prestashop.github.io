{{ $url := .Get 0 }}
{{ if .Get "url" }}
  {{ $url = .Get "url" }}
{{ end }}
{{ if .Get "ref" }}
  {{ $url = relref . (.Get "ref") }}
{{ end }}

{{ $class := "" }}
{{ if .Get 1 }}
  {{ $class = .Get 1 }}
{{ end }}
{{ if .Get "class" }}
  {{ $class = .Get "class" }}
{{ end }}

{{/* Build CSS classes */}}
{{ $ctaClasses := "cta cta--pattern" }}
{{ if eq $class "light" }}
  {{ $ctaClasses = printf "%s cta-light" $ctaClasses }}
{{ else if eq $class "dark" }}
  {{ $ctaClasses = printf "%s cta-dark" $ctaClasses }}
{{ end }}
{{ if eq $class "sm" }}
  {{ $ctaClasses = printf "%s cta-sm" $ctaClasses }}
{{ end }}

{{ if .Get "inline" }}
<a href="{{ $url }}" class="{{ $ctaClasses }} btn-inline"><span>{{ .Inner }}</span></a>
{{ else }}
<p class="text-center">
  <a href="{{ $url }}" class="{{ $ctaClasses }}"><span>{{ .Inner }}</span></a>
</p>
{{ end }}
